# 一、计算机网络概述

## （1分）计算机网络描述

以能够相互共享资源的方式 互联 起来的 自治计算机系统 的集合。

**（1分）**（互联的、自治的计算机集合）

> 计算机网络是利用通信线路和交换设备将地理位置分散的、具有独立功能的多台计算机连接起来，按照某种协议实现**(数据通信)和(资源共享)**的信息系统。

## **（1分）**核心技术：电路交换、报文交换、分组交换

### 电路交换

电路交换是以电路连接为目的的交换方式，通信之前要在通信双方之间建立一条被双方独占的物理通道(由通信双方之间的交换设备和链路逐段连接而成)

> 计算机之间的数据传送是突发式的，当使用电路交换来传送计算机数据时，其线路的传输效率一般都会很低，线路上真正用来传送数据的时间往往不到10%甚至1%。

### 报文交换

报文交换是以报文为数据交换的单位，报文携带有目标地址、源地址等信息，报文整个地发送，一次一跳，在交换结点采用存储转发的传输方式，即将到达交换机的分组先送到存储器暂时存储和处理，等到相应的输出电路有空闲时再送出。

### 分组交换

基于报文交换，将报文划分为更小的数据单位:报文分组(也称为段、包、分组)。分组交换仍采用存储转发传输方式，但将一个长报文先分割为若干个较短的分组，然后把这些分组(携带源、目的地址和编号信息)逐个地发送出去。

![image-20241222191721310](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412221917440.png)

## 性能指标

速率、带宽、吞吐量、时延。

![image-20241222195539264](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412221955484.png)

关于时延：

![image-20241222200022593](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222000697.png)

时延带宽积、往返时间、利用率、丢包率。

![image-20241222200132050](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222001206.png)

> 传输时延：数据大小和发送速度（带宽）
>
> 传播时延：链路长度和介质

## 体系结构

### （5分简答）为什么分层

1、模块化”和可扩展性：分层次的结构可以将复杂的网络系统划分为不同的层级，每个层级负责特定的功能，使得系统更加模块化和可扩展。当需要增加新的功能或者修改某个层级时，只需要对该层级进行修改，而不会对整
个系统产生大的影响。

2、简化设计和实现：通过将网络系统划分为不同的层级，可以将复杂的问题分解为更小的、更易处理的子问题。每个层级只需要关注自身的功能和接口，而不需要考虑其他层级的具体实现细节，从而简化了设计和实现的过
程。

3、提高互操作性：分层次的结构可以通过定义标准的接口和协议来实现不同层级之间的交互。这样，不同厂商或组织可以独立地开发和实现各自的层级，只需要遵循相应的接口和协议规范，就能够实现互操作性，使得不同的网络设备和系统能够无缝地协同工作。

“分层” 可以将庞大复杂的问题转化为若干较小的局部问题。

![image-20241222201550318](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222015382.png)

## 分层的例子

物流运输

> 物理层：运输工具
>
> 数据链路层：物流中转站
>
> 物流信息：网络层传输层

## 服务、接口、协议的概念

### 协议（通信规则）

协议是控制两个对等实体在**“水平方向”**进行**“逻辑通信”**的规则的集合。

协议三要素：

> 语法：定义所交换信息的格式
>
> 语义：定义通信双方所要完成的操作
>
> 同步：定义通信双方的时序关系

### 服务

下层向相邻上层提供的功能

### 接口

相邻两层之中的边界，定义了下层向上层提供的操作和服务。

# 二、物理层

## 物理层作用

在连接各种计算机的传输媒体上**透明传输数据比特流**。

## （5分简答）四个接口特性以及功能

机械特性：定义物理连接的特性，规定物理连接时所采用的：

> 形状和尺寸
>
> 引脚数目和排列
>
> 固定和锁定装置

电气特性：规定传输二进制位，线路上信号的：

> 信号电压的范围
>
> 阻抗匹配的情况
>
> 传输速率
>
> 距离限制

功能特性：

> 规定接口电缆的各条信号线的作用，指明某条线出现的某一电平表示什么意义

过程特性：

> 规定在信号线上传输比特流的一组操作过程，包括各信号间的时序关系

## 信号编码和复用（复用不考）

信道：表示向某一个方向传送信息的媒体。

> 单工通信：广播
>
> 半双工通信：对讲机
>
> 全双工通信：打电话

编码：变成数字信号

编码速率：香农，奈式

### 常用编码方式

![image-20241222233355046](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222333205.png)

> 归零编码：高1低0
>
> 非归零编码：高1低0，后半段归零
>
> 曼彻斯特编码：前高后低 -> 1/0
>
> ​			   前低后高 -> 0/1
>
> 差分曼彻斯特编码：遇0不变，遇1翻转

常用带通调制方式：

调幅、调频、调相。

## 采样量化

模拟信号到数字信号的转换过程

编码步骤：采样、量化、编码

> 量化：最低频率大于等于两倍的信带宽 * 10g2V



> 数字数据：数字发送器（数号）调制器（模号）
>
> 模拟数据：PCM编码、放大器调制



## （1分）常用传输媒体

<img src="https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222337426.png" alt="image-20241222233759358" style="zoom: 50%;" />

> 双绞线：屏蔽双绞线（STD）、非屏蔽双绞线（UTD） 10BASE-T 双绞线
>
> 光纤：单模光纤，多模光纤



> 无线电波：信号向所有方向传播
>
> 微波：信号固定方向传播
>
> ​	    地面微波接力通信
>
> ​	    卫星通信：优：通信容量大、距离远、覆盖广
>
> ​	    		   缺：传播时延唱、受气候影响大，成本高
>
> 红外线，极光：信号固定方向传播



# 三、数据链路层

## （5分简答）链路和数据链路的区别？

数据链路(逻辑链路)和链路(物理链路)是网络通信中两个不同的概念。

区别如下:

概念层次：数据链路是指在网络通信中，为了在物理链路上传输数据而建立的逻辑连接。它位于网络层之下，负责将网络层的数据分割成适合物理链路传输的帧，并进行错误检测和纠正。而链路则是指实际传输数据的物理媒
介或通信线路，例如以太网、无线电信道等。

技术角度：数据链路是一种逻辑概念，通过协议和算法实现数据的分割、传输和重组，保证可靠性和效率。它涉及到帧的格式、流量控制、错误检测等技术。而链路是基于物理设备和传输介质的实际连接，包括传输介质、接
口等硬件和物理参数。

## （5分）三个基本问题

封装成帧、透明传输、差错检测

## 传统以太网的介质访问方法 

CSMA/CD：载波监听多点接入/碰撞检测

CS：载波监听，每一个站点在发送数据前以及发送数据时都要检测一下总线上是否有其他计算机在发送数据。

MA：多点接入，表示许多计算机以多点接入的方式连接在一根总线上。

CD：边发送边监听。![image-20241223164008694](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231640875.png)

## IEEE802.3以太网采用的介质控制协议的工作原理

发送数据前先进行监听信道，等待信道不忙时发送数据并持续进行冲突检测，如果检测到冲突就停止发送，等待随机长的时间，重复以上步骤，如果没有冲突，则发送成功。





## 决定局域网特性的三个要素

传输介质

> 有限局域网：双绞线，同轴电缆，光纤
>
> 无限局域网：红外，微波

拓补结构

> 星形网，环形网（FDD/令牌环网）
>
> 总线网（以太网、IEE802.3）、树形网

介质访问控制方法

> LLC子层：识别网络层协议，对它们进行封装
>
> MAC子层：帧的封装，寻址和识别，接收与发送，差错控制





## 以太网扩展、冲突域广播域划分

网桥：透明网桥、源路由网桥

交换机 == 多接口网桥：存储转发式、直通式

> 交换机：延迟小、可靠性低（查完目的地址立刻转发）
>
> 存储转发式：缓存后检查正确后转发、延迟大、可靠性高。

#### 判断冲突域、广播域。

> 物理层（中继器，集线器） 无冲突域 无广播域
>
> 链路层（网桥、交换机） 有冲突域 无广播域
>
> 网络层（路由器） 有冲突域 有广播域

集线器不可划分冲突域和广播域，交换机可以划分冲突域。

## 以太网MAC帧长

64-1518 最大数据部分为1500

最小数据部分46、





# 四、网络层

## 网络层作用

把分组通过**路由选择与分组转发**从源端传到目的端、为分组交换网上的不同主机提供通信服务。



## 分类的IP地址和特殊的IP地址

>  A类（1-126）
>
> B类（128-191）
>
> C类（192-223）
>
> D类（224-239）
>
> E类（240-？？）

![image-20241223170941475](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231709627.png)

> 回环地址：127.0.0.1
>
> 广播地址：255.255.255.255
>
> 网络地址：A：10.0.0.0 B：172.16.0.0 C：192.168.0.0
>
> 全0全1：本网内表示主机，路由表内表示默认路由。



## （10分）子网划分与子网掩码



![image-20241223172254856](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231722153.png)



![image-20241223172431420](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231724701.png)



![image-20241223173336114](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231733258.png)



> 默认子网掩码：未划分子网的情况下使用的子网掩码

<img src="https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412231736286.png" alt="image-20241223173644087" style="zoom: 33%;" />



## 网络层的两种服务

> 面向连接的虚电路服务
>
> 无连接的数据报服务

#### 虚电路服务

核心思想是“可靠通信应由网络自身来保证”

必须首先建立网络层连接--虚电路(Virtual Circuit，Vc)，以保证通信双方所需的一切网络资源。

通信双方沿着已建立的虚电路发送分组。

通信结束后，释放之前建立的虚电路



#### 数据报服务（无连接，不可靠）

核心思想是“可靠通信应由用户主机来保证”

不需要建立网络层连接。

每个分组可走不同的路径。因此，每个分组的首部都必须携带目的主机的完整地址，

通信结束后，没有需要释放的连接。

> 不保证分组的按序交付，也不保证不丢失，不重复
>
> 分组头需要包含完整的目的地址等信息，开销较大
>
> 灵活性高，在出现网络拥塞等情况时，可以灵活选择路径

## IP地址和MAC地址的区别



![image-20241222214727527](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222147609.png)

## （5分简答）为什么有了MAC还要IP地址？

如果仅使用MAC地址进行通信，则会出现以下主要问题：

因特网中的每台路由器的路由表中就必须记录因特网上所有主机和路由器各接口的MAC地址。

手工给各路由器配置路由表几乎是不可能完成的任务，即使使用路由协议让路由器通过相互交换路由信息来自动构建路由表，也会因为路由信息需要包含海量的MAC地址信息而严重占用通信资源。

包含海量MAC地址的路由信息需要路由器具备极大的存储空间，并且会给分组的查表转发带来非常大的时延。 

因特网的网际层使用IP地址进行寻址，就可使因特网中各路由器的路由表中的路由记录的数量大大减少，因为只需记录部分网络的网络地址，而不是记录每个网络中各通信设备的各接口的MAC地址。

路由器收到IP数据报后，根据其首部中的目的IP地址的网络号部分，基于自己的路由表进行查表转发。

> 网络规模和管理需要：MAC地址唯一标识设备
>
> 但没有层次结构，而IP地址有网络号和主机号的层次结构，路由器可以根据IP地址的网络号进行分组转发，大大提高了网络的可管理性和扩展性。
>
> 跨网络通信的要求：MAC地址只能在局域网内直接通信，当要将数据从一个局域网发向另一个局域网时，需要通过网络层的IP地址进行路由。



## （1分）IPV6和IPV4的区别是什么

长度区别：IPV4为32位，采用点分十进制表示，IPV6长度为128，用冒号十进制表示。

地址类型：IPV4有单播，组播，广播等地址类型，IPV6包括单播，组播，任播。任播是IPV6特有的

> IPV6比IPV4更加安全
>
> IPV4 头部长度可变，一般为20字节，包括源IP地址，目的IP地址与信息
>
> IPV6 头部长度固定为40字节，格式更加简洁，减少了路由器处理分组的时间，提高效率。

![image-20241223213712070](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232137419.png)



## （10分计算）路由协议Rip更新

更新规则：

![image-20241223220155803](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232201049.png)

![image-20241223215735994](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232157140.png)





# 五、运输层

## （5分简答）运输层功能？

为运行在不同主机上的应用进程提供进程和进程之间的逻辑通信服务，对收到的报文进行差错检验

两种协议：TCP和UDP

## 关于复用的图

![image-20241223221229170](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232212289.png)

## UDP比IP多了什么功能

TCP：面向连接的可靠 （客户服务器方式）

UDP：无连接不可靠 （比IP多提供 -> 进程通信，差错检测）

①端口功能，UDP能够通过端口号把数据准确的交付给相应的进程应用

②差错检测：UDP提供了简单的差错检测机制

![image-20241223220901892](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232209105.png)

## （选择）UDP和TCP首部区别

①UDP首部比较简单，长度固定为8字节，其中包括源端口，目的端口，长度和校验和字段。

②TCP首部相对复杂，长度可变，一般为20-60字节，有多个字段。

TCP首部 20字节可变

UDP首部 8个字节



## 连接建立

![image-20241223222127454](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412232221688.png)

1. 首先客户端发送连接请求报文段
2. 服务器为TCP分配缓存和变量，并向客户端返回确认报文段，允许连接
3. 客户端为该TCP连接分配缓存和变量，并向服务器返回确认的确认，数据可携带

![image-20241222215738585](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222157684.png)



## 流量控制

![image-20241222215751295](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222157351.png)

## （5分）拥塞控制



![image-20241222220212636](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222202678.png)



![image-20241222220225620](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222202729.png)



![image-20241222220242458](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222202550.png)

## 编号确认

![image-20241222220254494](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222202567.png)



# 六、应用层

大部分以客户、服务器工作。

## 应用层的功能

![image-20241222220511242](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222205327.png)



## DNS是什么

![image-20241222220529591](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222205666.png)



## 电子邮件协议

![image-20241222220543891](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222205930.png)

## 万维网（www）

![image-20241222220606738](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222206809.png)



## （5分）用UDP协议怎么保证可靠性？（协议自身）

![image-20241222220641365](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222206411.png)



## （5分）缓存的作用（DNS/WEB/浏览器）

![image-20241222220713844](https://gitee.com/ForeverHamburger/picgo_imgs1/raw/master/202412222207928.png)



# 七、



